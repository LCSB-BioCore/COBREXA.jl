<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Generic interface · COBREXA.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img class="docs-light-only" src="../assets/logo.svg" alt="COBREXA.jl logo"/><img class="docs-dark-only" src="../assets/logo-dark.svg" alt="COBREXA.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">COBREXA.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorials/">Quickstart tutorials</a></li><li><a class="tocitem" href="../advanced/">Advanced tutorials</a></li><li><a class="tocitem" href="../notebooks/">Examples and notebooks</a></li><li><a class="tocitem" href="../functions/">Function reference</a></li><li><a class="tocitem" href="../howToContribute/">How to contribute</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Generic interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Generic interface</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/LCSB-BioCore/COBREXA.jl/blob/master/docs/src/unmerged.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Generic-interface"><a class="docs-heading-anchor" href="#Generic-interface">Generic interface</a><a id="Generic-interface-1"></a><a class="docs-heading-anchor-permalink" href="#Generic-interface" title="Permalink"></a></h1><p>The reason you should rather use the generic interface is that the generic interface is supported by all model types in <code>COBREXA</code>, while the internal model structure of each model type varies considerably. For example, <code>MATModel</code>s store the stoichiometric matrix directly, so <code>mat_model.mat[&quot;S&quot;]</code> would return the stoichiometric matrix. However, <code>JSONModel</code>s do not do this, so <code>json_model.m[&quot;S&quot;]</code> would throw an error. The <code>COBREXA</code> way of doing this is to use the generic interface, i.e. <code>stoichiometry(json_model)</code> and <code>stoichiometry(mat_model)</code> always return the stoichiometric matrix. </p><p>Note, it is possible that the matrix returned by <code>stoichiometry</code> is not exactly the same <strong>between</strong> models. The order of the reactions (columns) and metabolites (rows) may vary from model type to model type, although they are consistent <strong>within</strong> each model type. So <code>stoichiometry(json_model)</code> will return a stoichiometric matrix where the columns correspond to the order of reactions listed in <code>reactions(json_model)</code> and the rows corresponds to the order of metabolites listed in <code>metabolites(json_model)</code>. The column/reaction and row/metabolite order from the <code>JSONModel</code> is not <em>necessarily</em> consistent with the stoichiometric matrix returned by <code>stoichiometry(mat_model)</code>. This is a minor note, but could cause confusion. </p><h1 id="Converting-models"><a class="docs-heading-anchor" href="#Converting-models">Converting models</a><a id="Converting-models-1"></a><a class="docs-heading-anchor-permalink" href="#Converting-models" title="Permalink"></a></h1><p>You might recall that we mentioned that data loss does not occur when models are read into the format corresponding to their file type. This is because the models are read into memory directly in their native formats. So <code>JSONModel</code>s contain the dictionary encoded in the <code>.json</code> file, and the same for <code>.mat</code> and <code>.xml</code> files (technically <code>.xml</code> is parsed by <code>SBML.jl</code>).</p><p>However, this data loss guarantee does <strong>not</strong> hold once you convert between models. The reason for this is that the <code>convert</code> function uses the generic interface to convert between models. In short, only information accessible through the generic interface will be converted between models. This is most applicable for data stored using non-standard keywords (<code>.mat</code> and to a lesser extent <code>.json</code> models are prone to this type of issue). When in doubt, inspect your models and refer to <code>src/base/constants.jl</code> for the <code>keynames</code> used to access model features if issues occur. However, this should rarely be a problem.</p><p><code>COBREXA</code> also has specialized model types: <code>StandardModel</code>, <code>CoreModel</code>, and <code>CoreCoupledModel</code>. These model types are implemented to be as efficient as possible for their purpose. In short, use:</p><ol><li><code>StandardModel</code> if keeping all the meta-data associated with a model is important. This includes information like gene reaction rules, annotations, notes, etc. It is a good format to use when you wish to combine many models of different types and are not worried about memory limitations. </li><li><code>CoreModel</code> if you only care about constraint-based analysis that can be performed using only the stoichiometric matrix and flux bounds. This model stores all its numeric data structures as sparse matrices/vectors and is thus very efficient. It does not store superfluous information, like the gene reaction rules of reactions, annotations etc. Since this model is compact and its data structures efficient, it is ideal for distributed computing.</li><li><code>CoreModelCoupled</code> if you want to use the functionality of <code>CoreModel</code> but for communities. It also represents the underlying model in a sparse format, but specialized for community models. </li></ol><p>Let&#39;s load a <code>StandardModel</code> and a <code>CoreModel</code> to compare the two.</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 8 July 2021 13:10">Thursday 8 July 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
